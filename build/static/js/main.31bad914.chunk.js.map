{"version":3,"sources":["context.js","services/api.js","components/Datatable/DataTable.js","components/Search/SearchComponent.js","App.js","index.js"],"names":["Context","React","createContext","reducer","state","action","type","Object","objectSpread","results","payload","tableResultsAreLoading","showResultsTable","Provider","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","dispatch","setState","inherits","createClass","key","value","children","props","react_default","a","createElement","Component","Consumer","searchApi","window","__env","axios","interceptors","request","use","config","error","Promise","reject","getSearchRequest","query","option","signal","get","page","pageSize","DataTable","gridApi","gridParams","gridWrapperRef","createRef","overlayLoadingTemplate","overlayNoRowsTemplate","onGridReady","params","autoHeight","api","gridColumnApi","columnApi","resetRowHeights","showRequiredOverlay","rowData","showLoadingOverlay","hideOverlay","showNoRowsOverlay","createColumnDefsWithOptions","_this$props","columns","_step","columnDefs","_iterator","_createForOfIteratorHelper","s","n","done","field","isShow","push","defaultColumnDefs","headerName","label","name","err","e","f","map","columnDef","prevProps","destroy","_this$props2","tableHeight","enableColResize","enableSorting","enableFilter","floatingFilter","suppressMenu","headerHeight","floatingFiltersHeight","rowHeight","pagination","context","columnDefsWithOptions","wrapperClasses","classNames","auto-height","current","gridWidth","clientWidth","sizeColumnsToFit","ref","className","style","height","visibility","main","suppressRowClickSelection","suppressCellSelection","rowSelection","getRowHeight","suppressColumnMoveAnimation","animateRows","defaultColDef","width","defaultProps","isCmaTable","isReportsCmaTable","hiddenColumns","filterData","Option","OptGroup","SearchComponent","CancelToken","source","serachOptions","Title","serachOption","searchResults","searchFields","searchView","isLoading","searchValue","componentParent","assertThisInitialized","autoCompleteDataSource","resentSearch","suggessions","totalItems","currentPage","tableWrapperRef","debouncedOnChange","debounce","getSearchResults","onChange","onPaginationChange","console","log","_callee","_this$state","currentSession","res","regenerator_default","wrap","_context","prev","next","handleWindowResize","lastSession","abrupt","cancelToken","token","sent","onGetSearchSuccess","t0","onGetSearchError","stop","parseTableData","data","meta","fields","view","message","setTableDimensions","offsetTop","getBoundingClientRect","top","innerHeight","searchOptionChange","renderOption","keys","group","item","text","icon","addEventListener","cancel","removeEventListener","_this2","_this$state2","react","row","gutter","col","span","es_select","placeholder","onSelect","auto_complete","size","dropdownStyle","onSearch","handleSearch","optionLabelProp","node","searchInput","input","prefix","color","components_Datatable_DataTable","dataTableRef","es_pagination","defaultCurrent","total","hideOnSinglePage","showSizeChanger","onShowSizeChange","contextType","App","context_Provider","components_Search_SearchComponent","ReactDOM","render","BrowserRouter","src_App_0","document","getElementById"],"mappings":"uVAGaA,EAAUC,IAAMC,gBAEvBC,EAAU,SAACC,EAAOC,GACtB,OAAQA,EAAOC,MACb,IAAK,qBACH,OAAOC,OAAAC,EAAA,EAAAD,CAAA,GACFH,EADL,CAEEK,QAASJ,EAAOK,UAEpB,IAAK,6BACH,OAAOH,OAAAC,EAAA,EAAAD,CAAA,GACFH,EADL,CAEEO,uBAAwBN,EAAOK,UAEnC,IAAK,qBACH,OAAOH,OAAAC,EAAA,EAAAD,CAAA,GACFH,EADL,CAEEQ,iBAAkBP,EAAOK,UAE7B,QACE,OAAON,IAIAS,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAAT,OAAAU,EAAA,EAAAV,CAAAW,KAAAL,GAAA,QAAAM,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAR,EAAAT,OAAAkB,EAAA,EAAAlB,CAAAW,MAAAH,EAAAR,OAAAmB,EAAA,EAAAnB,CAAAM,IAAAc,KAAAC,MAAAb,EAAA,CAAAG,MAAAW,OAAAP,MACElB,MAAQ,CACNK,QAAS,GACTE,wBAAwB,EACxBC,kBAAkB,EAClBkB,SAAU,SAACzB,GAAD,OAAYW,EAAKe,SAAS,SAAC3B,GAAD,OAAWD,EAAQC,EAAOC,OALlEW,EAAA,OAAAT,OAAAyB,EAAA,EAAAzB,CAAAM,EAAAC,GAAAP,OAAA0B,EAAA,EAAA1B,CAAAM,EAAA,EAAAqB,IAAA,SAAAC,MAAA,WASI,IAAM/B,EAAKG,OAAAC,EAAA,EAAAD,CAAA,GAAQW,KAAKd,OAChBgC,EAAalB,KAAKmB,MAAlBD,SAER,OAAOE,EAAAC,EAAAC,cAACxC,EAAQa,SAAT,CAAkBsB,MAAO/B,GAAQgC,OAZ5CvB,EAAA,CAA8B4B,gBAoBNzC,EAAQ0C,mNC5CxBC,EAAcC,OAAOC,MAArBF,UAERG,IAAMC,aAAaC,QAAQC,IACzB,SAACC,GACC,OAAOA,GAET,SAACC,GAAD,OAAWC,QAAQC,OAAOF,KAGrB,IAAMG,EAAmB,SAACC,EAAOC,EAAQC,GAAhB,OAC9BX,IAAMY,IAAN,GAAA7B,OACKc,GADLd,OACiB0B,EADjB,UAAA1B,OAC+B2B,EAAOG,KADtC,cAAA9B,OACuD2B,EAAOI,UAC5DH,wjCCPJ,IAEMI,6MACJzD,MAAQ,CACN0D,QAAS,KACTC,WAAY,QAGdC,eAAiB/D,IAAMgE,cAEvBC,sUAMAC,qrBAmBAC,YAAc,SAACC,GAAW,IAChBC,EAAetD,EAAKqB,MAApBiC,WAERtD,EAAKe,SAAS,CACZ+B,QAASO,EAAOE,IAChBR,WAAYM,EACZG,cAAeH,EAAOI,YAGpBH,GACFD,EAAOE,IAAIG,qBAIfC,oBAAsB,SAAChE,GAA2B,IACxCmD,EAAY9C,EAAKZ,MAAjB0D,QACAc,EAAY5D,EAAKqB,MAAjBuC,QAEHd,IAIDnD,EACFmD,EAAQe,qBAILlE,GAA2BiE,EAAQvD,OAKxCyC,EAAQgB,cAJNhB,EAAQiB,wBAOZC,4BAA8B,WAAM,IAAAC,EACLjE,EAAKqB,MAA1BuC,EAD0BK,EAC1BL,QAASM,EADiBD,EACjBC,QAEjB,IAAKN,EAAQvD,OAAQ,MAAO,GAE5B,IALkC8D,EAK5BC,EAAa,GALeC,EAAAC,EAMdJ,GANc,IAMlC,IAAAG,EAAAE,MAAAJ,EAAAE,EAAAG,KAAAC,MAA6B,KAAlBC,EAAkBP,EAAAhD,MACvBuD,EAAMC,QACRP,EAAWQ,KAAXrF,OAAAC,EAAA,EAAAD,CAAA,GACKS,EAAK6E,kBADV,CAEEC,WAAYJ,EAAMK,MAClBL,MAAOA,EAAMM,SAXe,MAAAC,GAAAZ,EAAAa,EAAAD,GAAA,QAAAZ,EAAAc,IAgBlC,OAAOf,EAAWgB,IAAI,SAACC,GAErB,OADqBA,uFA9DNC,mDAEI,IACbxC,EAAY5C,KAAKd,MAAjB0D,QAEJA,GAAWA,EAAQyC,SACrBzC,EAAQyC,2CA6DH,IACCzC,EAAY5C,KAAKd,MAAjB0D,QADD0C,EAiBHtF,KAAKmB,MAdPoE,EAHKD,EAGLC,YACAC,EAJKF,EAILE,gBACA9B,EALK4B,EAKL5B,QACA+B,EANKH,EAMLG,cACAC,EAPKJ,EAOLI,aACAC,EARKL,EAQLK,eACAC,EATKN,EASLM,aACAC,EAVKP,EAULO,aACAC,EAXKR,EAWLQ,sBACAC,EAZKT,EAYLS,UACAC,EAbKV,EAaLU,WACAC,EAdKX,EAcLW,QACA7C,EAfKkC,EAeLlC,WACA3D,EAhBK6F,EAgBL7F,uBAEFO,KAAKyD,oBAAoBhE,GACzB,IAAMyG,EAAwBlG,KAAK8D,8BAI7BqC,EAAiBC,IAAW,kBAAmB,CACnDC,cAAejD,IAKjB,GAAIpD,KAAK8C,eAAewD,SAAW1D,EAAS,CAC1C,IAAM2D,EAAYvG,KAAK8C,eAAewD,QAAQE,YA1H/B,IA2HKN,EAAsB/F,QAERoG,GAChC3D,EAAQ6D,mBAIZ,OACErF,EAAAC,EAAAC,cAAA,OACEoF,IAAK1G,KAAK8C,eACV6D,UAAWR,EACXS,MAAO,CACLC,OAAM,GAAAlG,OAAK4E,EAAL,MACNuB,WAAYlE,EAAU,UAAY,WAGpCxB,EAAAC,EAAAC,cAACyF,EAAA,YAAD,CACEvB,gBAAiBA,EACjBtB,WAAYgC,EACZxC,QAASA,EACT+B,cAAeA,EACfC,aAAcA,EACdC,eAAgBA,EAChBC,aAAcA,EACdC,aAAcA,EACdC,sBAAuBA,EACvBC,UAAWA,EACXC,WAAYA,EACZgB,2BAAyB,EACzBC,uBAAqB,EACrBC,aAAa,SACblE,uBAAwBhD,KAAKgD,uBAC7BC,sBAAuBjD,KAAKiD,sBAC5BkE,aAAcnH,KAAKmH,aACnBjE,YAAalD,KAAKkD,YAClB+C,QAASA,EACTmB,6BAA2B,EAC3BC,aAAW,EACXC,cAAe,CACbC,MAlKS,eAEGhG,aAwKxBoB,EAAU6E,aAAe,CACvBxB,YAAY,EACZN,cAAc,EACdD,eAAe,EACfD,iBAAiB,EACjBG,gBAAgB,EAChBC,cAAc,EACdxC,YAAY,EACZqE,YAAY,EACZC,mBAAmB,EACnBjI,wBAAwB,EACxBoG,aAAc,GACdC,sBAAuB,GACvBC,UAAW,GACXE,QAAS,GACT0B,cAAe,GACfC,WAAY,IAyBCjF,QCrMPkF,sBACAC,eAEFC,6MAGJxF,OAASX,IAAMoG,YAAYC,WAE3BtD,kBAAoB,CAClBiB,cAAc,KAGhB1G,MAAQ,CACNqG,YAAa,IACboC,cAAe,GACfO,cAAe,CAAC,CAAEC,MAAO,UAAWlH,MAAO,YAC3CmH,aAAc,UACdC,cAAe,GACfC,aAAc,GACdC,WAAY,QACZ7I,kBAAkB,EAClB8I,WAAW,EACXC,YAAa,GACbxC,QAAS,CAAEyC,gBAAgBrJ,OAAAsJ,EAAA,EAAAtJ,QAAAsJ,EAAA,EAAAtJ,CAAAS,KAC3B8I,uBAAwB,CACtBC,aAAc,GACdC,YAAa,IAEfC,WAAY,EACZtG,KAAM,EACNC,SAAU,GACVsG,YAAa,KAGfC,gBAAkBlK,IAAMgE,cAExBmG,kBAAoBC,mBAAS,SAACvI,GAC5Bd,EAAKsJ,iBAAiBxI,IACrB,OAoBHyI,SAAW,SAACzI,EAAUoE,GAAM,IAElB4D,EAA2B9I,EAAKZ,MAAhC0J,uBACR9I,EAAKe,SAAS,CACZ+H,uBAAwB,CACtBC,aAAcD,EAAuBC,aACrCC,YAAa9D,EAAE7E,OAAS,CAAC,WAAa,MAG1CL,EAAKe,SAAS,CAAE4H,YAAazD,GAAK,WAChClF,EAAKoJ,kBAAkBtI,QAI3B0I,mBAAqB,SAAC7G,EAAMC,GAAa,IAC/B9B,EAAad,EAAKmG,QAAlBrF,SACR2I,QAAQC,IAAI/G,EAAMC,GAClB5C,EAAKe,SAAS,CAAE4B,OAAMC,YAAY,WAChC5C,EAAKsJ,iBAAiBxI,QAI1BwI,uDAAmB,SAAAK,EAAO7I,GAAP,IAAA8I,EAAAjB,EAAAhG,EAAAC,EAAAkG,EAAAe,EAAAC,EAAA,OAAAC,EAAAxI,EAAAyI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAP,EACqC5J,EAAKZ,MAAnDuJ,EADSiB,EACTjB,YADSiB,EACItB,aAAc3F,EADlBiH,EACkBjH,KAAMC,EADxBgH,EACwBhH,SACjCkG,EAA2B9I,EAAKZ,MAAhC0J,uBAER9I,EAAKoK,qBAECP,EAAiB,GACvB7J,EAAKqK,YAAcR,EACnB/I,EAAS,CAAExB,KAAM,6BAA8BI,SAAS,IAEnDiJ,EAVY,CAAAsB,EAAAE,KAAA,gBAWfrJ,EAAS,CAAExB,KAAM,qBAAsBI,QAAS,KAChDoB,EAAS,CAAExB,KAAM,6BAA8BI,SAAS,IAZzCuK,EAAAK,OAAA,yBAejBtK,EAAKe,SAAS,CACZ+H,uBAAwB,CACtBC,aAAcD,EAAuBC,aACrCC,YAAa,MAGjBhJ,EAAKe,SAAS,CACZnB,kBAAkB,EAClB8I,WAAW,IAvBIuB,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GA0BG7H,EAChBqG,EACA,CACEhG,OACAC,YAEF,CACE2H,YAAavK,EAAKyC,OAAO+H,QAjCd,WA0BTV,EA1BSG,EAAAQ,KAqCXzK,EAAKqK,cAAgBR,EArCV,CAAAI,EAAAE,KAAA,gBAAAF,EAAAK,OAAA,kBAuCftK,EAAK0K,mBAAmB5J,EAAUgJ,GAvCnBG,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAU,GAAAV,EAAA,UAyCfR,QAAQC,IAARO,EAAAU,IACA3K,EAAK4K,iBAAiB9J,GA1CP,yBAAAmJ,EAAAY,SAAAlB,EAAA,2EA8CnBe,mBAAqB,SAAC5J,EAAUgJ,GAC9B9J,EAAK8K,eAAehB,EAAIiB,KAAOjB,EAAIiB,KAAO,IAC1C/K,EAAKe,SAAS,CAAE2H,WAAW,EAAOO,WAAY,MAAOC,YAAa,IAClEpI,EAAS,CAAExB,KAAM,6BAA8BI,SAAS,OAG1DoL,eAAiB,SAACC,GAAS,IACjBC,EAASD,EAATC,KACRhL,EAAKe,SAAS,CACZwH,cAAewC,EAAKA,KACpBvC,aAAcuC,EAAKC,KAAKC,OACxBxC,WAAYuC,EAAKE,KACjBtL,kBAAkB,OAItBgL,iBAAmB,SAAC9J,GAClBqK,EAAA,EAAQhJ,MAAM,wDACdnC,EAAKe,SAAS,CAAE2H,WAAW,IAC3B5H,EAAS,CAAExB,KAAM,6BAA8BI,SAAS,OAG1D0L,mBAAqB,WACnB,IACMC,EAAYrL,EAAKmJ,gBAAgB3C,QAAQ8E,wBAAwBC,IACjE9F,EAAc7D,OAAO4J,YAAcH,EAFpB,GAIrBrL,EAAKe,SAAS,CAAE0E,mBAGlB2E,mBAAqB,WACnBpK,EAAKoL,wBAGPK,mBAAqB,SAACnD,GACpBtI,EAAKe,SAAS,CAAEuH,oBAGlBoD,aAAe,WAAM,IACX5C,EAA2B9I,EAAKZ,MAAhC0J,uBA2BR,OA1BgBvJ,OAAOoM,KAAK7C,GAAwB1D,IAAI,SAACwG,GACvD,OACEtK,EAAAC,EAAAC,cAACwG,EAAD,CACE9G,IAAK0K,EACL7G,MAAiB,gBAAV6G,EAA0B,cAAgB,mBAEhD9C,EAAuB8C,GAAOxG,IAAI,SAACyG,GAAD,OACjCvK,EAAAC,EAAAC,cAACuG,EAAD,CAAQ7G,IAAK2K,EAAMC,KAAMD,GACb,YAATA,EACCvK,EAAAC,EAAAC,cAAAuK,EAAA,GAAMzM,KAAK,YAEXgC,EAAAC,EAAAC,cAAA,OAAKqF,UAAU,sBACbvF,EAAAC,EAAAC,cAAA,QAAMqF,UAAU,2BAA2BgF,GAChC,iBAAVD,EACCtK,EAAAC,EAAAC,cAAA,QAAMqF,UAAU,yBAAhB,UAEA,+FA9IG,IACX/F,EAAaZ,KAAKiG,QAAlBrF,SACRc,OAAOoK,iBAAiB,SAAU9L,KAAKkK,oBACvCtJ,EAAS,CAAExB,KAAM,6BAA8BI,SAAS,IACxDoB,EAAS,CAAExB,KAAM,qBAAsBI,SAAS,IAChDQ,KAAKa,SAAS,CACZ+H,uBAAwB,CACtBC,aAAc,GACdC,YAAa,qDAMjB9I,KAAKuC,OAAOwJ,OAAO,YACnBrK,OAAOsK,oBAAoB,SAAUhM,KAAKkK,qDA4InC,IAAA+B,EAAAjM,KACCY,EAAaZ,KAAKiG,QAAlBrF,SADDsL,EAeHlM,KAAKd,MAZPgJ,EAHKgE,EAGLhE,cACAE,EAJK8D,EAIL9D,aACAC,EALK6D,EAKL7D,cACAC,EANK4D,EAML5D,aACA/C,EAPK2G,EAOL3G,YACAoC,EARKuE,EAQLvE,cACAY,EATK2D,EASL3D,WACA7I,EAVKwM,EAULxM,iBACAuG,EAXKiG,EAWLjG,QACAuC,EAZK0D,EAYL1D,UACAO,EAbKmD,EAaLnD,WACAC,EAdKkD,EAcLlD,YAGF,OACE5H,EAAAC,EAAAC,cAAC6K,EAAA,SAAD,KACE/K,EAAAC,EAAAC,cAAA,OAAKqF,UAAU,4CACbvF,EAAAC,EAAAC,cAAA8K,EAAA,GAAKC,OAAQ,IACXjL,EAAAC,EAAAC,cAAAgL,EAAA,GAAKC,KAAM,GACTnL,EAAAC,EAAAC,cAAAkL,EAAA,GACEC,YAAY,gBACZ9F,UAAU,wBACV+F,SAAU1M,KAAKuL,mBACftK,MAAOmH,GAENF,EAAchD,IAAI,SAAC5C,GAAD,OACjBlB,EAAAC,EAAAC,cAACuG,EAAD,CAAQ5G,MAAOqB,EAAOrB,MAAOD,IAAKsB,EAAOrB,OACtCqB,EAAO6F,WAKhB/G,EAAAC,EAAAC,cAAAgL,EAAA,GAAKC,KAAM,IACTnL,EAAAC,EAAAC,cAAA,OAAKqF,UAAU,yBACbvF,EAAAC,EAAAC,cAAAqL,EAAA,GACEhG,UAAU,eACViG,KAAK,QACLhG,MAAO,CAAEW,MAAO,QAChBsF,cAAe,CAAEtF,MAAO,SACxBuF,SAAU9M,KAAK+M,aACfC,gBAAgB,OAChB3D,SAAU,SAACrE,GAAD,OAAOiH,EAAK5C,SAASzI,EAAUoE,IACzC0B,IAAK,SAACuG,GACJhB,EAAKiB,YAAcD,IAGrB7L,EAAAC,EAAAC,cAAA6L,EAAA,GACExG,UAAU,eACV8F,YAAY,YACZW,OACEhM,EAAAC,EAAAC,cAAAuK,EAAA,GACEzM,KAAK,SACLwH,MAAO,CAAEyG,MAAO,qBAGpBT,KAAK,eAQjBxL,EAAAC,EAAAC,cAAA,OAAKqF,UAAU,wBACbvF,EAAAC,EAAAC,cAAA,OAAKoF,IAAK1G,KAAKiJ,gBAAiBtC,UAAU,kBACxB,UAAf4B,GAA0B7I,GACzB0B,EAAAC,EAAAC,cAACgM,EAAD,CACE5G,IAAK1G,KAAKuN,aACVvJ,QAASsE,EACT5E,QAAS2E,EACT9C,YAAaA,EACboC,cAAeA,EACf1B,QAASA,EACTxG,uBAAwB+I,EACxB9C,cAAc,EACdD,eAAe,EACfE,gBAAgB,EAChBC,cAAc,EACdI,YAAY,IAGhB5E,EAAAC,EAAAC,cAAA,OAAKqF,UAAU,sBACbvF,EAAAC,EAAAC,cAAAkM,EAAA,GACEC,eAAgBzE,EAChB0E,MAAO3E,EACP4E,kBAAkB,EAClBC,iBAAe,EACfC,iBAAkB7N,KAAKsJ,mBACvBD,SAAUrJ,KAAKsJ,gCA3RD/H,aAAxBwG,EACG+F,YAAchP,EAoSRiJ,QC/SAgG,2LARX,OACE3M,EAAAC,EAAAC,cAAC0M,EAAD,KACE5M,EAAAC,EAAAC,cAAC2M,EAAD,cAJUlP,IAAMwC,YCQxB2M,IAASC,OACP/M,EAAAC,EAAAC,cAAC8M,EAAA,EAAD,KACEhN,EAAAC,EAAAC,cAAC+M,EAAD,OAEFC,SAASC,eAAe","file":"static/js/main.31bad914.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const Context = React.createContext();\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_SEARCH_RESULTS\":\n      return {\n        ...state,\n        results: action.payload,\n      };\n    case \"SHOW_TABLE_LOADING_OVERLAY\":\n      return {\n        ...state,\n        tableResultsAreLoading: action.payload,\n      };\n    case \"SHOW_RESULTS_TABLE\":\n      return {\n        ...state,\n        showResultsTable: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport class Provider extends Component {\n  state = {\n    results: [],\n    tableResultsAreLoading: false,\n    showResultsTable: false,\n    dispatch: (action) => this.setState((state) => reducer(state, action)),\n  };\n\n  render() {\n    const state = { ...this.state };\n    const { children } = this.props;\n\n    return <Context.Provider value={state}>{children}</Context.Provider>;\n  }\n}\n\nProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport const Consumer = Context.Consumer; // eslint-disable-line prefer-destructuring\n","/* eslint no-underscore-dangle: [1, { \"allow\": [\"__env\"] }] */\nimport axios from \"axios\";\n\nconst { searchApi } = window.__env;\n\naxios.interceptors.request.use(\n  (config) => {\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\nexport const getSearchRequest = (query, option, signal) =>\n  axios.get(\n    `${searchApi}${query}&page=${option.page}&pagesize=${option.pageSize}`,\n    signal\n  );\n","/* eslint-disable no-param-reassign */\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport classNames from \"classnames\";\n\nimport \"./DataTable.scss\";\n\nconst COLUMN_WIDTH = 320;\n\nclass DataTable extends Component {\n  state = {\n    gridApi: null,\n    gridParams: null,\n  };\n\n  gridWrapperRef = React.createRef();\n\n  overlayLoadingTemplate = `<div class=\"spin-wrapper\">\n    <div class=\"ant-spin ant-spin-lg ant-spin-spinning\">\n    <span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span>\n    </div>\n    </div>`;\n\n  overlayNoRowsTemplate = `<div class=\"no-results-wrapper\">\n    <div class=\"message\">\n    <i class=\"anticon anticon-exclamation-circle\">\n    <svg viewBox=\"64 64 896 896\" class=\"\" data-icon=\"exclamation-circle\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"></path><path d=\"M464 688a48 48 0 1 0 96 0 48 48 0 1 0-96 0zM488 576h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z\"></path></svg>\n    </i> \n    <span>No rows to show</span>\n    </div>\n    </div>`;\n\n  componentDidUpdate(prevProps) {}\n\n  componentWillUnmount() {\n    const { gridApi } = this.state;\n\n    if (gridApi && gridApi.destroy) {\n      gridApi.destroy();\n    }\n  }\n\n  onGridReady = (params) => {\n    const { autoHeight } = this.props;\n\n    this.setState({\n      gridApi: params.api,\n      gridParams: params,\n      gridColumnApi: params.columnApi,\n    });\n\n    if (autoHeight) {\n      params.api.resetRowHeights();\n    }\n  };\n\n  showRequiredOverlay = (tableResultsAreLoading) => {\n    const { gridApi } = this.state;\n    const { rowData } = this.props;\n\n    if (!gridApi) {\n      return;\n    }\n\n    if (tableResultsAreLoading) {\n      gridApi.showLoadingOverlay();\n      return;\n    }\n\n    if (!tableResultsAreLoading && !rowData.length) {\n      gridApi.showNoRowsOverlay();\n      return;\n    }\n\n    gridApi.hideOverlay();\n  };\n\n  createColumnDefsWithOptions = () => {\n    const { rowData, columns } = this.props;\n\n    if (!rowData.length) return [];\n\n    const columnDefs = [];\n    for (const field of columns) {\n      if (field.isShow) {\n        columnDefs.push({\n          ...this.defaultColumnDefs,\n          headerName: field.label,\n          field: field.name,\n        });\n      }\n    }\n\n    return columnDefs.map((columnDef) => {\n      const columnDefObj = columnDef;\n      return columnDefObj;\n    });\n  };\n\n  render() {\n    const { gridApi } = this.state;\n    const {\n      tableHeight,\n      enableColResize,\n      rowData,\n      enableSorting,\n      enableFilter,\n      floatingFilter,\n      suppressMenu,\n      headerHeight,\n      floatingFiltersHeight,\n      rowHeight,\n      pagination,\n      context,\n      autoHeight,\n      tableResultsAreLoading,\n    } = this.props;\n    this.showRequiredOverlay(tableResultsAreLoading);\n    const columnDefsWithOptions = this.createColumnDefsWithOptions();\n\n    // this.customFilterUniqueData(rowData);\n\n    const wrapperClasses = classNames(\"ag-theme-balham\", {\n      \"auto-height\": autoHeight,\n    });\n\n    // If there are too few columns to fill the table horizontally,\n    // use `.sizeColumnsToFit()` to fill the table\n    if (this.gridWrapperRef.current && gridApi) {\n      const gridWidth = this.gridWrapperRef.current.clientWidth;\n      const columnCount = columnDefsWithOptions.length;\n\n      if (columnCount * COLUMN_WIDTH <= gridWidth) {\n        gridApi.sizeColumnsToFit();\n      }\n    }\n\n    return (\n      <div\n        ref={this.gridWrapperRef}\n        className={wrapperClasses}\n        style={{\n          height: `${tableHeight}px`,\n          visibility: gridApi ? \"visible\" : \"hidden\",\n        }}\n      >\n        <AgGridReact\n          enableColResize={enableColResize}\n          columnDefs={columnDefsWithOptions}\n          rowData={rowData}\n          enableSorting={enableSorting}\n          enableFilter={enableFilter}\n          floatingFilter={floatingFilter}\n          suppressMenu={suppressMenu}\n          headerHeight={headerHeight}\n          floatingFiltersHeight={floatingFiltersHeight}\n          rowHeight={rowHeight}\n          pagination={pagination}\n          suppressRowClickSelection\n          suppressCellSelection\n          rowSelection=\"single\"\n          overlayLoadingTemplate={this.overlayLoadingTemplate}\n          overlayNoRowsTemplate={this.overlayNoRowsTemplate}\n          getRowHeight={this.getRowHeight}\n          onGridReady={this.onGridReady}\n          context={context}\n          suppressColumnMoveAnimation\n          animateRows\n          defaultColDef={{\n            width: COLUMN_WIDTH,\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nDataTable.defaultProps = {\n  pagination: true,\n  enableFilter: true,\n  enableSorting: true,\n  enableColResize: true,\n  floatingFilter: true,\n  suppressMenu: true,\n  autoHeight: false,\n  isCmaTable: false,\n  isReportsCmaTable: false,\n  tableResultsAreLoading: false,\n  headerHeight: 40,\n  floatingFiltersHeight: 40,\n  rowHeight: 38,\n  context: {},\n  hiddenColumns: [],\n  filterData: {},\n};\n\nDataTable.propTypes = {\n  columns: PropTypes.array.isRequired,\n  rowData: PropTypes.array.isRequired,\n  tableHeight: PropTypes.number.isRequired,\n  pagination: PropTypes.bool,\n  enableFilter: PropTypes.bool,\n  enableSorting: PropTypes.bool,\n  enableColResize: PropTypes.bool,\n  floatingFilter: PropTypes.bool,\n  suppressMenu: PropTypes.bool,\n  autoHeight: PropTypes.bool,\n  isCmaTable: PropTypes.bool,\n  isReportsCmaTable: PropTypes.bool,\n  tableResultsAreLoading: PropTypes.bool,\n  headerHeight: PropTypes.number,\n  floatingFiltersHeight: PropTypes.number,\n  rowHeight: PropTypes.number,\n  context: PropTypes.object,\n  hiddenColumns: PropTypes.array,\n  filterData: PropTypes.object,\n};\n\nexport default DataTable;\n","/* eslint-disable no-param-reassign */\n/* eslint no-underscore-dangle: [1, { \"allow\": [\"__env\"] }] */\nimport React, { Component, Fragment } from \"react\";\nimport {\n  Row,\n  Col,\n  Input,\n  Icon,\n  message,\n  Select,\n  AutoComplete,\n  Pagination,\n} from \"antd\";\nimport { debounce } from \"lodash\";\nimport axios from \"axios\";\n\nimport { Context } from \"../../context\";\nimport { getSearchRequest } from \"../../services/api\";\nimport DataTable from \"../Datatable/DataTable\";\n\nimport \"./SearchComponent.scss\";\n\nconst { Option } = Select;\nconst { OptGroup } = AutoComplete;\n\nclass SearchComponent extends Component {\n  static contextType = Context;\n\n  signal = axios.CancelToken.source();\n\n  defaultColumnDefs = {\n    suppressMenu: true,\n  };\n\n  state = {\n    tableHeight: 500,\n    hiddenColumns: [],\n    serachOptions: [{ Title: \"Default\", value: \"default\" }],\n    serachOption: \"default\",\n    searchResults: [],\n    searchFields: [],\n    searchView: \"table\",\n    showResultsTable: false,\n    isLoading: false,\n    searchValue: \"\",\n    context: { componentParent: this },\n    autoCompleteDataSource: {\n      resentSearch: [],\n      suggessions: [],\n    },\n    totalItems: 1,\n    page: 1,\n    pageSize: 10,\n    currentPage: 1,\n  };\n\n  tableWrapperRef = React.createRef();\n\n  debouncedOnChange = debounce((dispatch) => {\n    this.getSearchResults(dispatch);\n  }, 500);\n\n  componentWillMount() {\n    const { dispatch } = this.context;\n    window.addEventListener(\"resize\", this.handleWindowResize);\n    dispatch({ type: \"SHOW_TABLE_LOADING_OVERLAY\", payload: false });\n    dispatch({ type: \"SHOW_RESULTS_TABLE\", payload: false });\n    this.setState({\n      autoCompleteDataSource: {\n        resentSearch: [],\n        suggessions: [],\n      },\n    });\n  }\n\n  componentWillUnmount() {\n    this.signal.cancel(\"Canceled\");\n    window.removeEventListener(\"resize\", this.handleWindowResize);\n  }\n\n  onChange = (dispatch, e) => {\n    // const { value } = e.target;\n    const { autoCompleteDataSource } = this.state;\n    this.setState({\n      autoCompleteDataSource: {\n        resentSearch: autoCompleteDataSource.resentSearch,\n        suggessions: e.length ? [\"loading\"] : [],\n      },\n    });\n    this.setState({ searchValue: e }, () => {\n      this.debouncedOnChange(dispatch);\n    });\n  };\n\n  onPaginationChange = (page, pageSize) => {\n    const { dispatch } = this.context;\n    console.log(page, pageSize);\n    this.setState({ page, pageSize }, () => {\n      this.getSearchResults(dispatch);\n    });\n  };\n\n  getSearchResults = async (dispatch) => {\n    const { searchValue, serachOption, page, pageSize } = this.state;\n    const { autoCompleteDataSource } = this.state;\n\n    this.handleWindowResize();\n\n    const currentSession = {};\n    this.lastSession = currentSession;\n    dispatch({ type: \"SHOW_TABLE_LOADING_OVERLAY\", payload: true });\n\n    if (!searchValue) {\n      dispatch({ type: \"SET_SEARCH_RESULTS\", payload: [] });\n      dispatch({ type: \"SHOW_TABLE_LOADING_OVERLAY\", payload: false });\n      return;\n    }\n    this.setState({\n      autoCompleteDataSource: {\n        resentSearch: autoCompleteDataSource.resentSearch,\n        suggessions: [],\n      },\n    });\n    this.setState({\n      showResultsTable: true,\n      isLoading: true,\n    });\n    try {\n      const res = await getSearchRequest(\n        searchValue,\n        {\n          page,\n          pageSize,\n        },\n        {\n          cancelToken: this.signal.token,\n        }\n      );\n\n      if (this.lastSession !== currentSession) return;\n\n      this.onGetSearchSuccess(dispatch, res);\n    } catch (e) {\n      console.log(e);\n      this.onGetSearchError(dispatch);\n    }\n  };\n\n  onGetSearchSuccess = (dispatch, res) => {\n    this.parseTableData(res.data ? res.data : []);\n    this.setState({ isLoading: false, totalItems: 11415, currentPage: 1 });\n    dispatch({ type: \"SHOW_TABLE_LOADING_OVERLAY\", payload: false });\n  };\n\n  parseTableData = (data) => {\n    const { meta } = data;\n    this.setState({\n      searchResults: data.data,\n      searchFields: data.meta.fields,\n      searchView: meta.view,\n      showResultsTable: true,\n    });\n  };\n\n  onGetSearchError = (dispatch) => {\n    message.error(\"Unfortunately there was an error getting the results\");\n    this.setState({ isLoading: false });\n    dispatch({ type: \"SHOW_TABLE_LOADING_OVERLAY\", payload: false });\n  };\n\n  setTableDimensions = () => {\n    const marginBottom = 70;\n    const offsetTop = this.tableWrapperRef.current.getBoundingClientRect().top;\n    const tableHeight = window.innerHeight - offsetTop - marginBottom;\n\n    this.setState({ tableHeight });\n  };\n\n  handleWindowResize = () => {\n    this.setTableDimensions();\n  };\n\n  searchOptionChange = (serachOption) => {\n    this.setState({ serachOption });\n  };\n\n  renderOption = () => {\n    const { autoCompleteDataSource } = this.state;\n    const options = Object.keys(autoCompleteDataSource).map((group) => {\n      return (\n        <OptGroup\n          key={group}\n          label={group === \"suggessions\" ? \"Suggestions\" : \"Recent Searches\"}\n        >\n          {autoCompleteDataSource[group].map((item) => (\n            <Option key={item} text={item}>\n              {item === \"loading\" ? (\n                <Icon type=\"loading\" />\n              ) : (\n                <div className=\"global-search-item\">\n                  <span className=\"global-search-item-desc\">{item}</span>\n                  {group === \"resentSearch\" ? (\n                    <span className=\"search-history-remove\">Remove</span>\n                  ) : (\n                    \"\"\n                  )}\n                </div>\n              )}\n            </Option>\n          ))}\n        </OptGroup>\n      );\n    });\n\n    return options;\n  };\n\n  render() {\n    const { dispatch } = this.context;\n    const {\n      serachOptions,\n      serachOption,\n      searchResults,\n      searchFields,\n      tableHeight,\n      hiddenColumns,\n      searchView,\n      showResultsTable,\n      context,\n      isLoading,\n      totalItems,\n      currentPage,\n    } = this.state;\n\n    return (\n      <Fragment>\n        <div className=\"search-input-wrapper initial-search-done\">\n          <Row gutter={12}>\n            <Col span={6}>\n              <Select\n                placeholder=\"Select Option\"\n                className=\"search-select-options\"\n                onSelect={this.searchOptionChange}\n                value={serachOption}\n              >\n                {serachOptions.map((option) => (\n                  <Option value={option.value} key={option.value}>\n                    {option.Title}\n                  </Option>\n                ))}\n              </Select>\n            </Col>\n            <Col span={18}>\n              <div className=\"global-search-wrapper\">\n                <AutoComplete\n                  className=\"search-input\"\n                  size=\"large\"\n                  style={{ width: \"100%\" }}\n                  dropdownStyle={{ width: \"500px\" }}\n                  onSearch={this.handleSearch}\n                  optionLabelProp=\"text\"\n                  onChange={(e) => this.onChange(dispatch, e)}\n                  ref={(node) => {\n                    this.searchInput = node;\n                  }}\n                >\n                  <Input\n                    className=\"search-input\"\n                    placeholder=\"Search...\"\n                    prefix={\n                      <Icon\n                        type=\"search\"\n                        style={{ color: \"rgba(0,0,0,.25)\" }}\n                      />\n                    }\n                    size=\"large\"\n                  />\n                </AutoComplete>\n              </div>\n            </Col>\n          </Row>\n        </div>\n\n        <div className=\"search-table-wrapper\">\n          <div ref={this.tableWrapperRef} className=\"search-results\">\n            {searchView === \"table\" && showResultsTable && (\n              <DataTable\n                ref={this.dataTableRef}\n                columns={searchFields}\n                rowData={searchResults}\n                tableHeight={tableHeight}\n                hiddenColumns={hiddenColumns}\n                context={context}\n                tableResultsAreLoading={isLoading}\n                enableFilter={false}\n                enableSorting={false}\n                floatingFilter={false}\n                suppressMenu={false}\n                pagination={false}\n              />\n            )}\n            <div className=\"pagination-wrapper\">\n              <Pagination\n                defaultCurrent={currentPage}\n                total={totalItems}\n                hideOnSinglePage={true}\n                showSizeChanger\n                onShowSizeChange={this.onPaginationChange}\n                onChange={this.onPaginationChange}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchComponent;\n","import React from \"react\";\nimport { Provider } from \"./context\";\nimport SearchComponent from \"./components/Search/SearchComponent\";\nimport \"./App.scss\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Provider>\n        <SearchComponent></SearchComponent>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import 'core-js/fn/string/ends-with';\nimport 'core-js/fn/string/starts-with';\nimport 'core-js/fn/array/includes';\nimport 'core-js/fn/array/find';\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport 'react-app-polyfill/ie11';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}